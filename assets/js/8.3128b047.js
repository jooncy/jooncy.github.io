(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{225:function(t,e,r){"use strict";r.r(e);var s=r(0),i=Object(s.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),r("p",[t._v("Docker是一个开源的应用容器引擎，使用Go语言开发，基于Linux内核的cgroup，namespace，Union FS等技术，对应用进程进行封装隔离，并且独立于宿主机与其他进程，这种运行时封装的状态称为容器。")]),t._v(" "),r("p",[t._v("Docker早起版本实现是基于LXC，并进一步对其封装，包括文件系统、网络互联、镜像管理等方面，极大简化了容器管理。从0.7版本以后开始去\n除LXC，转为自行研发的libcontainer，从1.11版本开始，进一步演进为使用runC和containerd。")]),t._v(" "),r("p",[t._v("Docker理念是将应用及依赖包打包到一个可移植的容器中，可发布到任意Linux发行版Docker引擎上。使用沙箱机制运行程序，程序之间相互隔离。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),r("p",[t._v("Docker秒级启动，KVM分钟级启动。")]),t._v(" "),t._m(17),t._v(" "),r("p",[t._v("容器镜像大小通常以M为单位，虚拟机以G为单位。\n容器资源占用小，要比虚拟机部署更快速。")]),t._v(" "),t._m(18),t._v(" "),r("p",[t._v("容器共享宿主机内核，系统级虚拟化，占用资源少，没有Hypervisor层开销，容器性能基本接近物理机；")]),t._v(" "),r("p",[t._v("虚拟机需要Hypervisor层支持，虚拟化一些设备，具有完整的GuestOS，虚拟化开销大，因而降低性能，没有容器性能好。")]),t._v(" "),t._m(19),t._v(" "),r("p",[t._v("由于共享宿主机内核，只是进程级隔离，因此隔离性和稳定性不如虚拟机，容器具有一定权限访问宿主机内核，存在一定安全隐患。")]),t._v(" "),t._m(20),t._v(" "),r("p",[t._v("KVM基于硬件的完全虚拟化，需要硬件CPU虚拟化技术支持；\n容器共享宿主机内核，可运行在主流的Linux发行版，不用考虑CPU是否支持虚拟化技术。")]),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._m(27),t._v(" "),t._m(28),r("h4",{attrs:{id:"配置镜像加速-参考地址"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#配置镜像加速-参考地址","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置镜像加速 -"),r("a",{attrs:{href:"https://www.daocloud.io/mirror",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考地址"),r("OutboundLink")],1)]),t._v(" "),t._m(29)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"docker-介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-介绍","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 介绍")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"什么是docker-？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是docker-？","aria-hidden":"true"}},[this._v("#")]),this._v(" 什么是Docker ？")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h5",{attrs:{id:"docker-架构图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-架构图","aria-hidden":"true"}},[this._v("#")]),this._v(" docker 架构图")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/devops/docker/jiagou.png",alt:"架构图"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"docker-小结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-小结","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 小结")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("p",[t._v("使用最广泛的容器引擎")])]),t._v(" "),r("li",[r("p",[t._v("是一种操作系统级的虚拟化技术")])]),t._v(" "),r("li",[r("p",[t._v("依赖于Linux内核特性")]),t._v(" "),r("ul",[r("li",[r("p",[r("strong",[t._v("Namespace")])]),t._v(" "),r("p",[t._v("命名空间，Linux内核提供的一种对进程资源隔离的机制，例如进程、网络、挂载点等资源。")])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("Cgroups")])]),t._v(" "),r("p",[t._v("控制组，Linux内核提供的一种限制进程资源的机制；例如CPU、内存等资源。")])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("UnionFS")])]),t._v(" "),r("p",[t._v("联合文件系统，支持将不同位置的目录挂载到同一虚拟文件系统，形成一种分层的模型。")])])])]),t._v(" "),r("li",[r("p",[t._v("一个简单的应用程序打包工具")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"docker-设计目标"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-设计目标","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 设计目标")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("提供简单的应用程序打包工具")]),this._v(" "),e("li",[this._v("开发人员和运维人员职责逻辑分离")]),this._v(" "),e("li",[this._v("多环境保持一致性")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"docker-基本组成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-基本组成","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 基本组成")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("客户端（Docker Client）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("守护进程（Docker Daemon）")]),this._v("，作为服务端接受来自客户端的请求，并处理这些请求，比如创建容器，管理进行。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("镜像（Docker Images）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("容器（Docker Contaniner）")]),this._v("，是一个简单的守护进程，使用runC管理容器。向Docker Engine提供接口。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("镜像仓库（Docker Harbor/Registry）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"容器-vs-虚拟机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#容器-vs-虚拟机","aria-hidden":"true"}},[this._v("#")]),this._v(" 容器 VS 虚拟机")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/devops/docker/1557315929074.png",alt:"虚拟机与容器对比"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("启动时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("轻量级")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("性能")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("安全性")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("使用要求")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"docker-应用场景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-应用场景","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 应用场景")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[t._v("应用程序打包和发布")]),t._v(" "),r("li",[t._v("应用程序隔离")]),t._v(" "),r("li",[t._v("持续集成")]),t._v(" "),r("li",[t._v("部署微服务")]),t._v(" "),r("li",[t._v("快速搭建测试环境")]),t._v(" "),r("li",[t._v("提供 Paas 产品（平台即服务）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-安装","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker 安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("环境：Centos 7.6")]),this._v(" "),e("li",[this._v("版本：docker-ce 18.09.6")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("yum install -y yum-utils device-mapper-persistent-data lvm2\nyum-config-manager \\--add-repo \\https://download.docker.com/linux/centos/docker-ce.repo \nyum makecache fast\nyum install docker-ce -y\n$ systemctl restart docker       //重启docker\n$ docker info                    //查看dockr详情\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试","aria-hidden":"true"}},[this._v("#")]),this._v(" 测试")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker run hello-world\n")])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('$ curl -sSL https://get.daocloud.io/daotools/set_mirror.sh | sh -s http://f1361db2.m.daocloud.io\n$ cat /etc/docker/daemon.json \n{"registry-mirrors": ["http://f1361db2.m.daocloud.io"]}\n')])]),this._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[this._v("1")]),e("br"),e("span",{staticClass:"line-number"},[this._v("2")]),e("br"),e("span",{staticClass:"line-number"},[this._v("3")]),e("br")])])}],!1,null,null,null);e.default=i.exports}}]);