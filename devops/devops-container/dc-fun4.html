<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dockfile | 皇家高级运维协会</title>
    <meta name="description" content="自强不息，厚德载物">
    <link rel="icon" href="/redhat.ico">
    
    <link rel="preload" href="/assets/css/0.styles.14aec9c2.css" as="style"><link rel="preload" href="/assets/js/app.7f78d4c0.js" as="script"><link rel="preload" href="/assets/js/11.c3eacc03.js" as="script"><link rel="prefetch" href="/assets/js/10.e55ffcde.js"><link rel="prefetch" href="/assets/js/12.c65f6a1d.js"><link rel="prefetch" href="/assets/js/13.78b36343.js"><link rel="prefetch" href="/assets/js/14.e1085479.js"><link rel="prefetch" href="/assets/js/15.d77e9297.js"><link rel="prefetch" href="/assets/js/16.a656f2fb.js"><link rel="prefetch" href="/assets/js/17.3abd091f.js"><link rel="prefetch" href="/assets/js/18.16c50637.js"><link rel="prefetch" href="/assets/js/19.6ed8eda6.js"><link rel="prefetch" href="/assets/js/2.bac16b16.js"><link rel="prefetch" href="/assets/js/20.cc5c4704.js"><link rel="prefetch" href="/assets/js/21.da480af6.js"><link rel="prefetch" href="/assets/js/22.da9b3721.js"><link rel="prefetch" href="/assets/js/23.d6eefd48.js"><link rel="prefetch" href="/assets/js/24.0cd89b80.js"><link rel="prefetch" href="/assets/js/25.a286ffce.js"><link rel="prefetch" href="/assets/js/26.06e3f93c.js"><link rel="prefetch" href="/assets/js/27.ada5c726.js"><link rel="prefetch" href="/assets/js/28.c6e042f6.js"><link rel="prefetch" href="/assets/js/29.8653fabb.js"><link rel="prefetch" href="/assets/js/3.ca2089c9.js"><link rel="prefetch" href="/assets/js/30.1de3a839.js"><link rel="prefetch" href="/assets/js/31.118c26e0.js"><link rel="prefetch" href="/assets/js/32.c60eec9a.js"><link rel="prefetch" href="/assets/js/33.ecab7933.js"><link rel="prefetch" href="/assets/js/34.66b649cc.js"><link rel="prefetch" href="/assets/js/35.d6565b40.js"><link rel="prefetch" href="/assets/js/36.2d863a50.js"><link rel="prefetch" href="/assets/js/37.cf422a04.js"><link rel="prefetch" href="/assets/js/38.5ffd1c57.js"><link rel="prefetch" href="/assets/js/39.e2bf0f3b.js"><link rel="prefetch" href="/assets/js/4.1ef0afbd.js"><link rel="prefetch" href="/assets/js/40.4f92c30e.js"><link rel="prefetch" href="/assets/js/41.3bfe934f.js"><link rel="prefetch" href="/assets/js/42.39c6f9b5.js"><link rel="prefetch" href="/assets/js/43.c95ba676.js"><link rel="prefetch" href="/assets/js/44.330d81e4.js"><link rel="prefetch" href="/assets/js/45.9425713e.js"><link rel="prefetch" href="/assets/js/46.8410f2d0.js"><link rel="prefetch" href="/assets/js/47.88ac67f5.js"><link rel="prefetch" href="/assets/js/48.28b2d26b.js"><link rel="prefetch" href="/assets/js/49.b82cbb29.js"><link rel="prefetch" href="/assets/js/5.38c6dc15.js"><link rel="prefetch" href="/assets/js/50.b6d03820.js"><link rel="prefetch" href="/assets/js/51.f4938c04.js"><link rel="prefetch" href="/assets/js/52.ae593e3f.js"><link rel="prefetch" href="/assets/js/53.0267f172.js"><link rel="prefetch" href="/assets/js/54.dff73bd6.js"><link rel="prefetch" href="/assets/js/55.56ac80a3.js"><link rel="prefetch" href="/assets/js/56.108ad371.js"><link rel="prefetch" href="/assets/js/57.ed549433.js"><link rel="prefetch" href="/assets/js/58.2734cb92.js"><link rel="prefetch" href="/assets/js/59.e635ca33.js"><link rel="prefetch" href="/assets/js/6.c682a210.js"><link rel="prefetch" href="/assets/js/60.c5601786.js"><link rel="prefetch" href="/assets/js/61.e4be7d75.js"><link rel="prefetch" href="/assets/js/62.d49d5d2f.js"><link rel="prefetch" href="/assets/js/63.a7167d58.js"><link rel="prefetch" href="/assets/js/64.a96cbfd6.js"><link rel="prefetch" href="/assets/js/65.9a44bea4.js"><link rel="prefetch" href="/assets/js/66.e5f03658.js"><link rel="prefetch" href="/assets/js/67.3070d4d3.js"><link rel="prefetch" href="/assets/js/68.b5a28bee.js"><link rel="prefetch" href="/assets/js/69.b2af0755.js"><link rel="prefetch" href="/assets/js/7.00ef6b9a.js"><link rel="prefetch" href="/assets/js/70.f61ae12a.js"><link rel="prefetch" href="/assets/js/71.d830e1fd.js"><link rel="prefetch" href="/assets/js/72.b11082cb.js"><link rel="prefetch" href="/assets/js/8.3128b047.js"><link rel="prefetch" href="/assets/js/9.6a16dec3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.14aec9c2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">皇家高级运维协会</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Linux 系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/linux/linux-foundation/" class="nav-link">基础篇</a></li><li class="dropdown-item"><!----> <a href="/linux/linux-servers/" class="nav-link">服务篇</a></li><li class="dropdown-item"><!----> <a href="/linux/linux-shell/" class="nav-link">脚本篇</a></li><li class="dropdown-item"><!----> <a href="/linux/linux-architect/" class="nav-link">架构篇</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Python 系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/python-foundation/" class="nav-link">Foundation</a></li><li class="dropdown-item"><!----> <a href="/python/python-flask/" class="nav-link">Flask</a></li><li class="dropdown-item"><!----> <a href="/python/python-django/" class="nav-link">Django</a></li><li class="dropdown-item"><!----> <a href="/python/python-scrapy/" class="nav-link">Scrapy</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">DevOps 系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/devops-deploy/" class="nav-link">部署体系</a></li><li class="dropdown-item"><!----> <a href="/devops/devops-monitor/" class="nav-link">监控体系</a></li><li class="dropdown-item"><!----> <a href="/devops/devops-elk/" class="nav-link">日志体系</a></li><li class="dropdown-item"><!----> <a href="/devops/devops-container/" class="nav-link router-link-active">容器体系</a></li><li class="dropdown-item"><!----> <a href="/devops/devops-cmdb/" class="nav-link">CMDB</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ITIL 系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/itil/itil-improvement/" class="nav-link">持续服务改进</a></li><li class="dropdown-item"><!----> <a href="/itil/itil-strategy/" class="nav-link">服务战略</a></li><li class="dropdown-item"><!----> <a href="/itil/itil-design/" class="nav-link">服务设计</a></li><li class="dropdown-item"><!----> <a href="/itil/itil-transition/" class="nav-link">服务转换</a></li><li class="dropdown-item"><!----> <a href="/itil/itil-operate/" class="nav-link">服务运营</a></li><li class="dropdown-item"><!----> <a href="/itil/itil-found/" class="nav-link">知识结构</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vuepress
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://xue.taobao.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  淘宝教育
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://edu.51cto.com/courselist/index.html?wwwdh2" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ITIL
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/jooncy/jooncy.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Linux 系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/linux/linux-foundation/" class="nav-link">基础篇</a></li><li class="dropdown-item"><!----> <a href="/linux/linux-servers/" class="nav-link">服务篇</a></li><li class="dropdown-item"><!----> <a href="/linux/linux-shell/" class="nav-link">脚本篇</a></li><li class="dropdown-item"><!----> <a href="/linux/linux-architect/" class="nav-link">架构篇</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Python 系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/python-foundation/" class="nav-link">Foundation</a></li><li class="dropdown-item"><!----> <a href="/python/python-flask/" class="nav-link">Flask</a></li><li class="dropdown-item"><!----> <a href="/python/python-django/" class="nav-link">Django</a></li><li class="dropdown-item"><!----> <a href="/python/python-scrapy/" class="nav-link">Scrapy</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">DevOps 系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/devops-deploy/" class="nav-link">部署体系</a></li><li class="dropdown-item"><!----> <a href="/devops/devops-monitor/" class="nav-link">监控体系</a></li><li class="dropdown-item"><!----> <a href="/devops/devops-elk/" class="nav-link">日志体系</a></li><li class="dropdown-item"><!----> <a href="/devops/devops-container/" class="nav-link router-link-active">容器体系</a></li><li class="dropdown-item"><!----> <a href="/devops/devops-cmdb/" class="nav-link">CMDB</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ITIL 系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/itil/itil-improvement/" class="nav-link">持续服务改进</a></li><li class="dropdown-item"><!----> <a href="/itil/itil-strategy/" class="nav-link">服务战略</a></li><li class="dropdown-item"><!----> <a href="/itil/itil-design/" class="nav-link">服务设计</a></li><li class="dropdown-item"><!----> <a href="/itil/itil-transition/" class="nav-link">服务转换</a></li><li class="dropdown-item"><!----> <a href="/itil/itil-operate/" class="nav-link">服务运营</a></li><li class="dropdown-item"><!----> <a href="/itil/itil-found/" class="nav-link">知识结构</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vuepress
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://xue.taobao.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  淘宝教育
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://edu.51cto.com/courselist/index.html?wwwdh2" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ITIL
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/jooncy/jooncy.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Docker 系列</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/devops/devops-container/dc-fun1.html" class="sidebar-link">Docker 介绍</a></li><li><a href="/devops/devops-container/dc-fun2.html" class="sidebar-link">镜像管理</a></li><li><a href="/devops/devops-container/dc-fun3.html" class="sidebar-link">容器网络</a></li><li><a href="/devops/devops-container/dc-fun4.html" class="active sidebar-link">Dockfile</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/devops/devops-container/dc-fun4.html#构建nginx，php，tomcat-基础镜像" class="sidebar-link">构建NGINX，PHP，Tomcat 基础镜像</a></li><li class="sidebar-sub-header"><a href="/devops/devops-container/dc-fun4.html#快速搭建-lnmp-网站平台" class="sidebar-link">快速搭建 LNMP 网站平台</a></li></ul></li><li><a href="/devops/devops-container/dc-fun5.html" class="sidebar-link">企业级仓库与图形化管理界面</a></li><li><a href="/devops/devops-container/dc-fun6.html" class="sidebar-link">容器监控 Prometheus + Grafana</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="dockfile"><a href="#dockfile" aria-hidden="true" class="header-anchor">#</a> Dockfile</h1> <div class="tip custom-block"><p class="custom-block-title">dockerfile 介绍</p> <p>Docker可以通过阅读来自的指令自动构建图像 <code>Dockerfile</code>， <code>Dockerfile</code>是一个文本文档，其中包含用户可以在命令行上调用以组合图像的所有命令，使用<code>docker build</code> 用户可以创建一个连续执行多个命令行指令的自动构建。</p></div> <h3 id="dockerfile"><a href="#dockerfile" aria-hidden="true" class="header-anchor">#</a> dockerfile</h3> <p><img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1558008928327&di=a6eff2557652afc1c93bda302e64a599&imgtype=0&src=http%3A%2F%2F7xi8kv.com5.z0.glb.qiniucdn.com%2FDockerfile.png" alt="img"></p> <h3 id="dockerfile-格式-指令-build-镜像"><a href="#dockerfile-格式-指令-build-镜像" aria-hidden="true" class="header-anchor">#</a> Dockerfile 格式 &amp; 指令 &amp; Build 镜像</h3> <h4 id="指令集"><a href="#指令集" aria-hidden="true" class="header-anchor">#</a> 指令集</h4> <p><img src="/devops/docker/1557999161530.png" alt="1557999161530"></p> <h2 id="构建nginx，php，tomcat-基础镜像"><a href="#构建nginx，php，tomcat-基础镜像" aria-hidden="true" class="header-anchor">#</a> 构建NGINX，PHP，Tomcat 基础镜像</h2> <h4 id="创建-nginx-镜像"><a href="#创建-nginx-镜像" aria-hidden="true" class="header-anchor">#</a> 创建 nginx 镜像</h4> <ul><li>dockerfile 内容</li></ul> <div class="language-dockerfile line-numbers-mode"><pre class="language-text"><code>FROM centos:7
MAINTAINER www.ctnrs.com
RUN yum install -y gcc gcc-c++ make \
    openssl-devel pcre-devel gd-devel \
    iproute net-tools telnet wget curl &amp;&amp; \
    yum clean all &amp;&amp; \
    rm -rf /var/cache/yum/*
RUN wget http://nginx.org/download/nginx-1.15.5.tar.gz &amp;&amp; \
    tar zxf nginx-1.15.5.tar.gz &amp;&amp; \
    cd nginx-1.15.5 &amp;&amp; \
    ./configure --prefix=/usr/local/nginx \
    --with-http_ssl_module \
    --with-http_stub_status_module &amp;&amp; \
    make -j 4 &amp;&amp; make install &amp;&amp; \
    rm -rf /usr/local/nginx/html/* &amp;&amp; \
    echo &quot;ok&quot; &gt;&gt; /usr/local/nginx/html/status.html &amp;&amp; \
    cd / &amp;&amp; rm -rf nginx-1.12.2* &amp;&amp; \
    ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime

ENV PATH $PATH:/usr/local/nginx/sbin
#COPY nginx.conf /usr/local/nginx/conf/nginx.conf
WORKDIR /usr/local/nginx
EXPOSE 80
CMD [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><ul><li>构建镜像</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-text"><code>$ docker build -t nginx:v1 -f nginxfile .
$ docker run -itd --name=nginx-1 -p 80:80 nginx:v1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="创建php镜像"><a href="#创建php镜像" aria-hidden="true" class="header-anchor">#</a> 创建PHP镜像</h3> <div class="language-dockerfile line-numbers-mode"><pre class="language-text"><code>FROM centos:7
MAINTAINER www.ctnrs.com
RUN yum install epel-release -y &amp;&amp; \
    yum install -y gcc gcc-c++ make gd-devel libxml2-devel \
    libcurl-devel libjpeg-devel libpng-devel openssl-devel \
    libmcrypt-devel libxslt-devel libtidy-devel autoconf \
    iproute net-tools telnet wget curl &amp;&amp; \
    yum clean all &amp;&amp; \
    rm -rf /var/cache/yum/*

RUN wget http://docs.php.net/distributions/php-5.6.36.tar.gz &amp;&amp; \
    tar zxf php-5.6.36.tar.gz &amp;&amp; \
    cd php-5.6.36 &amp;&amp; \
    ./configure --prefix=/usr/local/php \
    --with-config-file-path=/usr/local/php/etc \
    --enable-fpm --enable-opcache \
    --with-mysql --with-mysqli --with-pdo-mysql \
    --with-openssl --with-zlib --with-curl --with-gd \
    --with-jpeg-dir --with-png-dir --with-freetype-dir \
    --enable-mbstring --with-mcrypt --enable-hash &amp;&amp; \
    make -j 4 &amp;&amp; make install &amp;&amp; \
    cp php.ini-production /usr/local/php/etc/php.ini &amp;&amp; \
    cp sapi/fpm/php-fpm.conf /usr/local/php/etc/php-fpm.conf &amp;&amp; \
    sed -i &quot;90a \daemonize = no&quot; /usr/local/php/etc/php-fpm.conf &amp;&amp; \
    mkdir /usr/local/php/log &amp;&amp; \
    cd / &amp;&amp; rm -rf php* &amp;&amp; \
    ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime

ENV PATH $PATH:/usr/local/php/sbin
COPY php.ini /usr/local/php/etc/
COPY php-fpm.conf /usr/local/php/etc/
WORKDIR /usr/local/php
EXPOSE 9000
CMD [&quot;php-fpm&quot;]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h5 id="生成镜像"><a href="#生成镜像" aria-hidden="true" class="header-anchor">#</a> 生成镜像</h5> <div class="language-shell line-numbers-mode"><pre class="language-text"><code>$ docker build -t php5.6:v1 -f Dockerfile-php
$ docker run -itd --name=php -p 9000:9000 php5.6:v1
$ docker exec -it php bash   //进入镜像
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="创建-tomcat-镜像"><a href="#创建-tomcat-镜像" aria-hidden="true" class="header-anchor">#</a> 创建 Tomcat 镜像</h3> <div class="language-dockerfile line-numbers-mode"><pre class="language-text"><code>FROM centos:7
MAINTAINER www.ctnrs.com

ENV VERSION=8.5.41

RUN yum install java-1.8.0-openjdk wget curl unzip iproute net-tools -y &amp;&amp; \
    yum clean all &amp;&amp; \
    rm -rf /var/cache/yum/*
RUN wget http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-8/v8.5.41/bin/apache-tomcat-8.5.41.tar.gz &amp;&amp; \
#RUN wget http://192.168.31.211/apache-tomcat-${VERSION}.tar.gz &amp;&amp; \
    tar zxf apache-tomcat-${VERSION}.tar.gz &amp;&amp; \
    mv apache-tomcat-${VERSION} /usr/local/tomcat &amp;&amp; \
    rm -rf apache-tomcat-${VERSION}.tar.gz /usr/local/tomcat/webapps/* &amp;&amp; \
    mkdir /usr/local/tomcat/webapps/test &amp;&amp; \
    echo &quot;ok&quot; &gt; /usr/local/tomcat/webapps/test/status.html &amp;&amp; \
    sed -i '1a JAVA_OPTS=&quot;-Djava.security.egd=file:/dev/./urandom&quot;' /usr/local/tomcat/bin/catalina.sh &amp;&amp; \
    ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime

ENV PATH $PATH:/usr/local/tomcat/bin

WORKDIR /usr/local/tomcat

EXPOSE 8080
CMD [&quot;catalina.sh&quot;, &quot;run&quot;]

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="启动镜像"><a href="#启动镜像" aria-hidden="true" class="header-anchor">#</a> 启动镜像</h4> <div class="language-shell line-numbers-mode"><pre class="language-text"><code>$ docker build -t tomcat8:v1 -f docker-tomcat .
$  docker run -itd --name=tomcat-1 -p 8080:8080 tomcat8:v1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="快速搭建-lnmp-网站平台"><a href="#快速搭建-lnmp-网站平台" aria-hidden="true" class="header-anchor">#</a> 快速搭建 LNMP 网站平台</h2> <h5 id="准备nginx-配置文件"><a href="#准备nginx-配置文件" aria-hidden="true" class="header-anchor">#</a> 准备nginx 配置文件</h5> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token keyword">user</span>                 nobody<span class="token punctuation">;</span>
<span class="token keyword">worker_processes</span>     <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token keyword">worker_rlimit_nofile</span> <span class="token number">65535</span><span class="token punctuation">;</span>

<span class="token keyword">error_log</span>  logs<span class="token operator">/</span>error<span class="token punctuation">.</span>log  notice<span class="token punctuation">;</span>

<span class="token keyword">pid</span>        <span class="token operator">/</span>var<span class="token operator">/</span>run<span class="token operator">/</span>nginx<span class="token punctuation">.</span><span class="token keyword">pid</span><span class="token punctuation">;</span>

<span class="token keyword">events</span> <span class="token punctuation">{</span>
    <span class="token keyword">use</span> epoll<span class="token punctuation">;</span>
    <span class="token keyword">worker_connections</span>  <span class="token number">4096</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">http</span> <span class="token punctuation">{</span>

    <span class="token keyword">include</span>       mime<span class="token punctuation">.</span><span class="token keyword">types</span><span class="token punctuation">;</span>
    <span class="token keyword">default_type</span>  application<span class="token operator">/</span>octet<span class="token operator">-</span>stream<span class="token punctuation">;</span>

    <span class="token keyword">log_format</span>  main <span class="token string">'$remote_addr - $remote_user [$time_local] &quot;$request&quot; '</span>
                      <span class="token string">'$status $body_bytes_sent &quot;$http_referer&quot; '</span>
                      <span class="token string">'&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;'</span><span class="token punctuation">;</span>

    <span class="token keyword">access_log</span> off<span class="token punctuation">;</span>
    <span class="token keyword">keepalive_timeout</span>  <span class="token number">65</span><span class="token punctuation">;</span>

    <span class="token keyword">client_max_body_size</span>         <span class="token number">64</span>m<span class="token punctuation">;</span>
    <span class="token keyword">server</span> <span class="token punctuation">{</span>
        <span class="token keyword">listen</span> <span class="token number">80</span><span class="token punctuation">;</span>
        <span class="token keyword">server_name</span> www<span class="token punctuation">.</span>joonhee<span class="token punctuation">.</span>com<span class="token punctuation">;</span>
        <span class="token keyword">index</span> <span class="token keyword">index</span><span class="token punctuation">.</span>php <span class="token keyword">index</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>

        <span class="token keyword">access_log</span> logs<span class="token operator">/</span>www<span class="token punctuation">.</span>joonhee<span class="token punctuation">.</span>com_access<span class="token punctuation">.</span>log<span class="token punctuation">;</span>
        <span class="token keyword">error_log</span> logs<span class="token operator">/</span>www<span class="token punctuation">.</span>joonhee<span class="token punctuation">.</span>com_error<span class="token punctuation">.</span>log<span class="token punctuation">;</span>

        <span class="token comment"># location ~ .*\.(js|css|html|png|gif|jpg|jpeg)$ {</span>
        <span class="token keyword">location</span> <span class="token operator">/</span> <span class="token punctuation">{</span>
            <span class="token keyword">root</span> <span class="token operator">/</span>wwwroot<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">location</span> <span class="token operator">~</span><span class="token operator">*</span> \<span class="token punctuation">.</span>php$ <span class="token punctuation">{</span>
            <span class="token keyword">root</span> <span class="token operator">/</span>wwwroot<span class="token punctuation">;</span>
            <span class="token keyword">fastcgi_pass</span> lnmp_php<span class="token punctuation">:</span><span class="token number">9000</span><span class="token punctuation">;</span>
            <span class="token keyword">fastcgi_param</span> SCRIPT_FILENAME <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span><span class="token punctuation">;</span>
            <span class="token keyword">include</span> fastcgi_params<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h5 id="创建容器"><a href="#创建容器" aria-hidden="true" class="header-anchor">#</a> 创建容器</h5> <div class="language-shell line-numbers-mode"><pre class="language-text"><code>$ docker network create lnmp
$ docker run -d --name lnmp_mysql --net lnmp --mount src=mysql-vol,dst=/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -e MYSQL_DATABASE=wordpress mysql:5.7 --character-set-server=utf8

$ docker run -d --name lnmp_php --net lnmp --mount src=wwwroot,dst=/wwwroot php5.6:v1
$ docker run -d --name lnmp_nginx --net lnmp -p 88:80 --mount type=bind,src=$(pwd)/nginx.conf,dst=/usr/local/nginx/conf/nginx.conf --mount src=wwwroot,dst=/wwwroot nginx:v1
$ docker ps -a
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                 NAMES
3cb2371454e0        nginx:v1            &quot;nginx -g 'daemon of…&quot;   38 seconds ago      Up 36 seconds       0.0.0.0:88-&gt;80/tcp    lnmp_nginx
8c1193a440f1        php5.6:v1           &quot;php-fpm&quot;                8 minutes ago       Up 8 minutes        9000/tcp              lnmp_php
af62c47d649b        mysql:5.7           &quot;docker-entrypoint.s…&quot;   15 minutes ago      Up 15 minutes       3306/tcp, 33060/tcp   lnmp_mysql

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="创建-wordpress-博客"><a href="#创建-wordpress-博客" aria-hidden="true" class="header-anchor">#</a> 创建 wordpress 博客</h5> <div class="language-shell line-numbers-mode"><pre class="language-text"><code>$ wget https://cn.wordpress.org/wordpress-4.9.4-zh_CN.tar.gz
$ tar xf wordpress-4.9.4-zh_CN.tar.gz
$ mv wordpress/* /var/lib/docker/volumes/wwwroot/_data
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="图-1：访问验证"><a href="#图-1：访问验证" aria-hidden="true" class="header-anchor">#</a> 图-1：访问验证</h5> <p><img src="/devops/docker/1558340282529.png" alt="1558340282529"></p> <h5 id="图-2：配置数据库连接"><a href="#图-2：配置数据库连接" aria-hidden="true" class="header-anchor">#</a> 图-2：配置数据库连接</h5> <p><img src="/devops/docker/1558340836424.png" alt="1558340836424"></p> <h4 id="配置wordpress"><a href="#配置wordpress" aria-hidden="true" class="header-anchor">#</a> 配置WordPress</h4> <div class="language-php line-numbers-mode"><pre class="language-php"><code>$ vim /var/lib/docker/volumes/wwwroot/_data/wp-config.php
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * WordPress基础配置文件。
 *
 * 这个文件被安装程序用于自动生成wp-config.php配置文件，
 * 您可以不使用网站，您需要手动复制这个文件，
 * 并重命名为“wp-config.php”，然后填入相关信息。
 *
 * 本文件包含以下配置选项：
 *
 * * MySQL设置
 * * 密钥
 * * 数据库表名前缀
 * * ABSPATH
 *
 * @link https://codex.wordpress.org/zh-cn:%E7%BC%96%E8%BE%91_wp-config.php
 *
 * @package WordPress
 */</span>

<span class="token comment">// ** MySQL 设置 - 具体信息来自您正在使用的主机 ** //</span>
<span class="token comment">/** WordPress数据库的名称 */</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'DB_NAME'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'wordpress'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** MySQL数据库用户名 */</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'DB_USER'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** MySQL数据库密码 */</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'DB_PASSWORD'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** MySQL主机 */</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'DB_HOST'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'lnmp_mysql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** 创建数据表时默认的文字编码 */</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'DB_CHARSET'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'utf8mb4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** 数据库整理类型。如不确定请勿更改 */</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'DB_COLLATE'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**#@+
 * 身份认证密钥与盐。
 *
 * 修改为任意独一无二的字串！
 * 或者直接访问{@link https://api.wordpress.org/secret-key/1.1/salt/
 * WordPress.org密钥生成服务}
 * 任何修改都会导致所有cookies失效，所有用户将必须重新登录。
 *
 * @since 2.6.0
 */</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'AUTH_KEY'</span><span class="token punctuation">,</span>         <span class="token single-quoted-string string">'ry8&gt;_}lDG.7c=TJ3SmvP}s(&gt;}J5,CxiIWu K_Crmf#F`l0hGec0[)Uo&lt;cu/YK^a*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'SECURE_AUTH_KEY'</span><span class="token punctuation">,</span>  <span class="token single-quoted-string string">'(3I)lbJ[vI56j7a$:uY,m%&amp;jw!@T*R&amp;qX&amp;C&amp;UsXz_h3r[;;3p5~_})J^n=hWBp|I'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'LOGGED_IN_KEY'</span><span class="token punctuation">,</span>    <span class="token single-quoted-string string">'_=n9IBlelGn$&gt;s@6,(r$4?ivzVq:vFdg{P}W7B4nBs3Lxq8%lm1~fozpdAJvoL%?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'NONCE_KEY'</span><span class="token punctuation">,</span>        <span class="token single-quoted-string string">'u52p?OPZ`AuSQI*nU{nH/L1s](~fV?MBx=U[s:|Bi :gFb~IKo+X?.O&amp;.n,Ban$8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'AUTH_SALT'</span><span class="token punctuation">,</span>        <span class="token single-quoted-string string">'=rV=]RT,r&lt;rgC!ELK!o!WCOf:;1cq&gt;}s .yqC68#Vq3[C&lt;c(Q^CT?z86Uau}o`uw'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'SECURE_AUTH_SALT'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'bm}@fKP(qTc8P(l0+m;QP!W,GFpm=+bQM&lt;C}s+LhtHf6{6.}x}^OfK?1=t&lt;9c4eE'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'LOGGED_IN_SALT'</span><span class="token punctuation">,</span>   <span class="token single-quoted-string string">'dpp?c&lt;w!D&gt; X}.Z!&lt;Yz:eMdOdHMY#BEff@Z$kCHYWv/=HoJ&amp;Va+vG,]Ak&amp;hG_I=T'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'NONCE_SALT'</span><span class="token punctuation">,</span>       <span class="token single-quoted-string string">'E$YR9vB3e$5Wnpl$%?hI=4=vT~Ah^NEzc{&lt;p`lw&amp;;/,HTpc=o8dsmVY&amp;gBL}Xu|c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**#@-*/</span>

<span class="token comment">/**
 * WordPress数据表前缀。
 *
 * 如果您有在同一数据库内安装多个WordPress的需求，请为每个WordPress设置
 * 不同的数据表前缀。前缀名只能为数字、字母加下划线。
 */</span>
<span class="token variable">$table_prefix</span>  <span class="token operator">=</span> <span class="token single-quoted-string string">'wp_'</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 开发者专用：WordPress调试模式。
 *
 * 将这个值改为true，WordPress将显示所有用于开发的提示。
 * 强烈建议插件开发者在开发环境中启用WP_DEBUG。
 *
 * 要获取其他能用于调试的信息，请访问Codex。
 *
 * @link https://codex.wordpress.org/Debugging_in_WordPress
 */</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'WP_DEBUG'</span><span class="token punctuation">,</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * zh_CN本地化设置：启用ICP备案号显示
 *
 * 可在设置→常规中修改。
 * 如需禁用，请移除或注释掉本行。
 */</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'WP_ZH_CN_ICP_NUM'</span><span class="token punctuation">,</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 好了！请不要再继续编辑。请保存本文件。使用愉快！ */</span>

<span class="token comment">/** WordPress目录的绝对路径。 */</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">defined</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'ABSPATH'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
	<span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'ABSPATH'</span><span class="token punctuation">,</span> <span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** 设置WordPress变量和包含文件。 */</span>
<span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token constant">ABSPATH</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'wp-settings.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br></div></div><h5 id="主界面"><a href="#主界面" aria-hidden="true" class="header-anchor">#</a> 主界面</h5> <p><img src="/devops/docker/1558341151009.png" alt="1558341151009"></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/jooncy/jooncy.github.io/edit/master/docs/devops/devops-container/dc-fun4.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">5/23/2019, 3:28:45 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/devops/devops-container/dc-fun3.html" class="prev">
          容器网络
        </a></span> <span class="next"><a href="/devops/devops-container/dc-fun5.html">
          企业级仓库与图形化管理界面
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.7f78d4c0.js" defer></script><script src="/assets/js/11.c3eacc03.js" defer></script>
  </body>
</html>
